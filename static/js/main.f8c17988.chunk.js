(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var o=n(2),c=n.n(o),a=n(7),r=n.n(a),s=(n(17),n(10)),i=n(3),l=n(5),d=n(4);function u(e,t){var n=Object(o.useReducer)(b,j({initialValue:t})),c=Object(i.a)(n,2),a=c[0],r=c[1],s=a.sincronizedItem,l=a.item;Object(o.useEffect)((function(){var n,o=localStorage.getItem(e);o?n=JSON.parse(o):(localStorage.setItem(e,JSON.stringify(t)),n=t),function(e){r({type:O.success,payload:e})}(n)}),[s]);return[l,function(t){localStorage.setItem(e,JSON.stringify(t)),function(e){r({type:O.save,payload:e})}(t)},function(){r({type:O.sincronize})}]}var j=function(e){return{sincronizedItem:!0,item:e.initialValue}},O={success:"SUCCESS",save:"SAVE",sincronize:"SINCRONIZE"},b=function(e,t){return function(e,t){var n;return n={},Object(l.a)(n,O.success,Object(d.a)(Object(d.a)({},e),{},{sincronizedItem:!0,item:t})),Object(l.a)(n,O.save,Object(d.a)(Object(d.a)({},e),{},{item:t})),Object(l.a)(n,O.sincronize,Object(d.a)(Object(d.a)({},e),{},{sincronizedItem:!1})),n}(e,t.payload)[t.type]||e};var m=n(1);function p(e){var t=e.children;return Object(m.jsx)("header",{children:t})}function f(e){var t=e.totalTodos,n=e.completedTodos;return Object(m.jsxs)("h2",{className:"todo-counter",children:["Has completado ",n," de ",t," TODOs"]})}function h(e){var t=e.searchValue,n=e.setSearchValue;return Object(m.jsx)("input",{className:"todo-search",placeholder:"Search...",type:"text",value:t,onChange:function(e){n(e.target.value)}})}function x(e){var t=e.children||e.render;return Object(m.jsxs)("section",{className:"todo-list",children:[!e.totalTodos&&e.onEmptyTodos(),!!e.totalTodos&&!e.filteredText.length&&e.onEmptySearchResults(e.searchValue),e.filteredText.map(t)]})}var v=n(12),g=n(9);function T(e){return Object(m.jsxs)("li",{className:"todo-item",children:[Object(m.jsxs)("span",{className:"icon icon-check ".concat(e.completed&&"icon-check--active"),onClick:e.onComplete,children:[" ",Object(m.jsx)(v.a,{})]}),Object(m.jsxs)("p",{className:"".concat(e.completed&&"todo-item-p-completed"),children:[e.text," "]}),Object(m.jsxs)("span",{className:"icon icon-delete",onClick:e.onDelete,children:["  ",Object(m.jsx)(g.a,{})," "]})]})}function S(e){var t=e.openModal,n=e.setOpenModal;return Object(m.jsx)("button",{className:"create-todo-button",onClick:function(){n(!t)},children:"+"})}function y(e){var t=e.children;return r.a.createPortal(Object(m.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}function N(e){var t=e.addTodo,n=e.setOpenModal,c=Object(o.useState)(""),a=Object(i.a)(c,2),r=a[0],s=a[1];return Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),n(!1)},children:[Object(m.jsx)("label",{htmlFor:"text-todo",children:"Escribe un nuevo TODO"}),Object(m.jsx)("textarea",{name:"",id:"text-todo",cols:"30",rows:"10",placeholder:"Agregue su tarea",value:r,onChange:function(e){s(e.target.value)}}),Object(m.jsxs)("span",{className:"todoForm-button__cancel",onClick:function(){n(!1)},children:[Object(m.jsx)(g.a,{})," "]}),Object(m.jsx)("button",{type:"submit",className:"todoForm-button todoForm-button__add",disabled:r.length<=0,children:"A\xf1adir"})]})}function V(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("p",{className:"empty-todos",children:"Agregue una tarea a realizar"})})}var C,I=(C=function(e){var t=e.show,n=e.toggleShow;return t?Object(m.jsx)("div",{className:"ChangeAlert-bg",children:Object(m.jsxs)("div",{className:"alert-container",children:[Object(m.jsx)("p",{children:"Hubo cambios en la lista"}),Object(m.jsx)("button",{onClick:function(){return n(!1)},children:"Actualizar"})]})}):null},function(e){var t=Object(o.useState)(!1),n=Object(i.a)(t,2),c=n[0],a=n[1];return Object(o.useEffect)((function(){var e=function(e){"TODOS_V1"===e.key&&(console.log("Hubo cambios en TODO_V1"),a(!0))};return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[]),Object(m.jsx)(C,{show:c,toggleShow:function(){a(!1),e.sincronize(!1)}})});var E=function(){var e=function(){var e=u("TODOS_V1",[]),t=Object(i.a)(e,3),n=t[0],c=t[1],a=t[2],r=Object(o.useState)(""),l=Object(i.a)(r,2),d=l[0],j=l[1],O=Object(o.useState)(!1),b=Object(i.a)(O,2),m=b[0],p=b[1],f=n.filter((function(e){return!!e.completed})).length,h=n.length,x=Object(o.useMemo)((function(){return n.filter((function(e){return e.text.toLowerCase().includes(d.toLowerCase())}))}),[n,d]);return{states:{totalTodos:h,completedTodos:f,searchValue:d,filteredText:x,openModal:m},stateUpdaters:{setSearchValue:j,toggleTodo:function(e){var t=n.findIndex((function(t){return t.text===e})),o=Object(s.a)(n);o[t].completed=!n[t].completed,c(o)},deleteTodo:function(e){var t=n.findIndex((function(t){return t.text===e})),o=Object(s.a)(n);o.splice(t,1),c(o)},setOpenModal:p,addTodo:function(e){var t=Object(s.a)(n);t.push({completed:!1,text:e}),c(t)},setSincronizedItem:a}}}(),t=e.states,n=e.stateUpdaters,c=t.filteredText,a=t.totalTodos,r=t.completedTodos,l=t.searchValue,d=t.openModal,j=n.toggleTodo,O=n.deleteTodo,b=n.setSearchValue,v=n.setOpenModal,g=n.addTodo,C=n.setSincronizedItem;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(p,{children:[Object(m.jsx)(f,{totalTodos:a,completedTodos:r}),Object(m.jsx)(h,{searchValue:l,setSearchValue:b})]}),Object(m.jsx)(x,{filteredText:c,totalTodos:a,searchValue:l,onEmptyTodos:function(){return Object(m.jsx)(V,{})},onEmptySearchResults:function(e){return Object(m.jsxs)("p",{className:"empty-todos",children:["No hay resultados para: ",e]})},render:function(e){return Object(m.jsx)(T,{text:e.text,completed:e.completed,onComplete:function(){return j(e.text)},onDelete:function(){return O(e.text)}},e.text)}}),d&&Object(m.jsx)(y,{children:Object(m.jsx)(N,{addTodo:g,setOpenModal:v})}),Object(m.jsx)(S,{openModal:d,setOpenModal:v}),Object(m.jsx)(I,{sincronize:C})]})};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.f8c17988.chunk.js.map